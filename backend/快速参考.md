# ğŸ¬ ç”µå½±æ•°æ®ç®¡ç† - å¿«é€Ÿå‚è€ƒ

## ğŸ“ é‡è¦è„šæœ¬

### 1. å¯¼å…¥ç”µå½±æ•°æ®
```bash
# ä½¿ç”¨é»˜è®¤è®¾ç½®å¯¼å…¥
node import-movie.js

# æŒ‡å®šç”µå½±åç§°
node import-movie.js "æˆ‘çš„ç”µå½±"

# æŒ‡å®šåç§°å’Œæ–‡ä»¶
node import-movie.js "æˆ‘çš„ç”µå½±" "resources/my-movie.json"
```

### 2. æµ‹è¯• API
```bash
# è¿è¡Œå®Œæ•´ API æµ‹è¯•
node test-api.js
```

### 3. å¯åŠ¨æœåŠ¡å™¨
```bash
# å¯åŠ¨æœåŠ¡å™¨
npm start

# å¼€å‘æ¨¡å¼(è‡ªåŠ¨é‡å¯)
npm run dev
```

## ğŸŒ API ç«¯ç‚¹

### åŸºç¡€ URL
```
http://localhost:3002/api/movies
```

### ä¸»è¦æ¥å£

| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| POST | `/api/movies/import` | ä»æ–‡ä»¶å¯¼å…¥ |
| POST | `/api/movies` | åˆ›å»ºæ–°ç”µå½± |
| GET | `/api/movies` | è·å–æ‰€æœ‰ç”µå½± |
| GET | `/api/movies/:id` | æ ¹æ®IDè·å– |
| GET | `/api/movies/name/:name` | æ ¹æ®åç§°è·å– |
| PUT | `/api/movies/:id` | æ ¹æ®IDæ›´æ–° |
| PUT | `/api/movies/name/:name` | æ ¹æ®åç§°æ›´æ–° |
| DELETE | `/api/movies/:id` | æ ¹æ®IDåˆ é™¤ |
| DELETE | `/api/movies/name/:name` | æ ¹æ®åç§°åˆ é™¤ |

## ğŸ“¡ å¿«é€Ÿæµ‹è¯•å‘½ä»¤

### å¯¼å…¥æ•°æ®
```bash
curl -X POST http://localhost:3002/api/movies/import \
  -H "Content-Type: application/json" \
  -d '{"name": "å‡¤èµ·é•¿è¡—", "filePath": "resources/dataNew.json"}'
```

### è·å–æ‰€æœ‰ç”µå½±
```bash
curl http://localhost:3002/api/movies
```

### è·å–æŒ‡å®šç”µå½±
```bash
# æ ¹æ®ID
curl http://localhost:3002/api/movies/1

# æ ¹æ®åç§°
curl http://localhost:3002/api/movies/name/å‡¤èµ·é•¿è¡—
```

### åˆ é™¤ç”µå½±
```bash
# æ ¹æ®IDåˆ é™¤
curl -X DELETE http://localhost:3002/api/movies/1

# æ ¹æ®åç§°åˆ é™¤
curl -X DELETE http://localhost:3002/api/movies/name/å‡¤èµ·é•¿è¡—
```

## ğŸ”§ å¸¸ç”¨æ•°æ®åº“æ“ä½œ

### è¿æ¥æ•°æ®åº“
```bash
mysql -h 192.168.1.12 -u root -p123456 movie
```

### æŸ¥çœ‹æ‰€æœ‰ç”µå½±
```sql
SELECT id, name, created_at, updated_at FROM movie_data;
```

### æŸ¥çœ‹ç”µå½±è¯¦æƒ…
```sql
SELECT * FROM movie_data WHERE name = 'å‡¤èµ·é•¿è¡—';
```

### åˆ é™¤ç”µå½±
```sql
DELETE FROM movie_data WHERE name = 'å‡¤èµ·é•¿è¡—';
```

## ğŸ› æ•…éšœæ’æŸ¥

### ç«¯å£è¢«å ç”¨
```bash
# æŸ¥æ‰¾å ç”¨è¿›ç¨‹
netstat -ano | findstr :3002

# ç»“æŸè¿›ç¨‹
taskkill //F //PID <è¿›ç¨‹ID>
```

### æŸ¥çœ‹æ•°æ®åº“ä¸­çš„æ•°æ®
```bash
mysql -h 192.168.1.12 -u root -p123456 movie -e "SELECT * FROM movie_data;"
```

## ğŸ“š æ–‡æ¡£

- [å¿«é€Ÿå¼€å§‹.md](å¿«é€Ÿå¼€å§‹.md) - å¿«é€Ÿå…¥é—¨æŒ‡å—
- [APIä½¿ç”¨è¯´æ˜.md](APIä½¿ç”¨è¯´æ˜.md) - è¯¦ç»† API æ–‡æ¡£
- [å¯¼å…¥è„šæœ¬è¯´æ˜.md](å¯¼å…¥è„šæœ¬è¯´æ˜.md) - å¯¼å…¥å·¥å…·è¯´æ˜

## âœ… æ£€æŸ¥æ¸…å•

ä½¿ç”¨å‰ç¡®è®¤:
- [ ] MySQL æœåŠ¡å·²å¯åŠ¨
- [ ] `.env` é…ç½®æ­£ç¡®
- [ ] æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ
- [ ] æ•°æ®åº“è¡¨å·²åˆ›å»º

## ğŸ¯ å…¸å‹å·¥ä½œæµ

```bash
# 1. å¯åŠ¨æœåŠ¡å™¨
npm start

# 2. å¯¼å…¥ç”µå½±æ•°æ®
node import-movie.js "å‡¤èµ·é•¿è¡—"

# 3. éªŒè¯å¯¼å…¥
curl http://localhost:3002/api/movies

# 4. æµ‹è¯• API
node test-api.js
```

---

ğŸ“ å¦‚éœ€å¸®åŠ©,æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£æˆ–è¿è¡Œæµ‹è¯•è„šæœ¬
